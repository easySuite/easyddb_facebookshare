<?php

/**
* Tests the functionality of the Artesis Facebook Share module.
*/
class ArtesisFacebookShareTestCase extends DrupalWebTestCase {
  protected $privileged_user;

  public static function getInfo() {
    return array(
      'name' => 'Artesis Facebookshare',
      'description' => 'Ensure that the block exists.',
      'group' => 'easyDDB',
    );
  }

  public function setUp() {
    $this->profile = 'ding2';
    parent::setUp(array('artesis_facebookshare'));
    fe_block_settings_features_revert('artesis_facebookshare');
  }

  /**
   * Test FB block presence.
   */
  public function testFBBlockPresence() {
    $url = url('node', array('absolute' => TRUE));
    $this->drupalGet($url);

    $elem = $this->xpath('//*[@class="block block-artesis-facebookshare"]');
    $this->assertFalse(empty($elem));
  }
}
